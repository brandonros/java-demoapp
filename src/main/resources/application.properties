server.port=8080
spring.application.name=java-demoapp

# Virtual Threads Configuration (Java 21+)
spring.threads.virtual.enabled=true

# Graceful Shutdown Configuration
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=20s

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui
springdoc.swagger-ui.enabled=true

# Include Actuator endpoints in Swagger
springdoc.show-actuator=true

# Primary Database Configuration
spring.datasource.primary.url=jdbc:sqlserver://localhost:1433;databaseName=accounts_db;encrypt=true;trustServerCertificate=true
spring.datasource.primary.username=sa
spring.datasource.primary.password=YourStrong@Password
spring.datasource.primary.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# HikariCP
spring.datasource.primary.hikari.maximum-pool-size=10
spring.datasource.primary.hikari.minimum-idle=10
spring.datasource.primary.hikari.idle-timeout=600000
spring.datasource.primary.hikari.max-lifetime=1800000
spring.datasource.primary.hikari.connection-timeout=2000
spring.datasource.primary.hikari.keepalive-time=300000

# Actuator Configuration
management.endpoints.web.exposure.include=health,metrics,info,prometheus
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true 
management.health.livenessState.enabled=true 
management.health.readinessState.enabled=true
management.metrics.export.simple.enabled=true

# Prometheus metrics endpoint
management.metrics.distribution.percentiles-histogram.http.server.requests=true

# OpenTelemetry Tracing Configuration
management.tracing.sampling.probability=1.0
management.tracing.enabled=true
management.otlp.tracing.endpoint=http://localhost:4318/v1/traces
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]
